{% extends "base.html" %}{% block title %}Home{% endblock %}

{% block content %}
<h3 class="d-flex justify-content-center" style="font-family:Georgia, 'Times New Roman', Times, serif">
    Hi {{ current_user.name }}, Welcome to the Todo-App </h3>



<!--  TODO ADD To ################################################### -->

<div class="row">
    <div class="col"></div>

    <form method="POST" style="display: justify-content-center; width: 50%">

        <div class="form-group" style="display: flex;">

            <input type="name" class="form-control" id="todo" name="todo" placeholder="Enter your todo" />
            <button type="submit" class="btn btn-success ml-2">Add-todo</button>
        </div>
    </form>

    <div class="col"></div>
</div>
<!--  TODO END of ADD To ################################################### -->









<div class="row" style="margin-left: 80px">
    <div class="col"></div>
    <div>
        <ul>
            {% for todo in fetchedAllTodo %}

            <div class="d-flex" style="margin-bottom: 10px">

                <ol class="shadow mb-2 bg-info rounded p-3"
                    style="background-color:rgb(204, 247, 247); color: black; width: 70%;">
                    {{ todo.todoName }}
                </ol>

                <span style="margin-left: 10px;">
                    <a href="{{ url_for('app.deleteTodo', todoId=todo.id)}}">
                        <button type="button" class="btn btn-danger">Delete</button>
                    </a>
                </span>

                <span style="margin-left: 10px;"><span>

                        <!-- ###################################################Starts container -->
                        <!-- Button trigger modal -->
                        <!-- ### to make it dynamic please make sure you have the same id  data-target="#exampleModal{{ todo.id }}" and id="exampleModal{{ todo.id }}-->
                        <!-- ### to make it dynamic please make sure you have the same id  data-target="#exampleModal{{ todo.id }}" and id="exampleModal{{ todo.id }}-->
                        <!-- ### to make it dynamic please make sure you have the same id  data-target="#exampleModal{{ todo.id }}" and id="exampleModal{{ todo.id }}-->



                        <button type="button" class="btn btn-primary" data-toggle="modal"
                            data-target="#exampleModal{{ todo.id }}">
                            Edit
                        </button>

                        <!-- Modal -->
                        <div class="modal fade" id="exampleModal{{ todo.id }}" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title"> Text to be ... Updated </h4>
                                    </div>



                                    <!--  TODO FORM ################################################### -->
                                    <form action="{{ url_for('app.updateTodo', todoId=todo.id)}}" method="POST">
                                        <div class="modal-body">
                                            <input type="text" name="name" class="form-control"
                                                value="{{ todo.todoName }}">
                                        </div>
                                        <button type="button" class="btn btn-default m-2"
                                            data-dismiss="modal">Close</button>

                                        <button type="submit" class="btn btn-primary m-5">update</button>
                                    </form>
                                    <!--  TODO FORM ################################################### -->

                                </div>

                            </div>
                        </div>

                        <!-- TODO ###################################################End of Container -->
                    </span>
                </span>

            </div>
            {% endfor %}
        </ul>
    </div>
    <div class="col"></div>
</div>



{% endblock %}